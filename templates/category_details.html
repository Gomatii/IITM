<!-- templates/category_details.html -->

<h5>Category: {{ category.name }}</h5>

<!-- Edit Category Form -->
<form method="post" action="{{ url_for('edit_category', category_id=category.id) }}">
    <label for="new_name">New Category Name:</label>
    <input type="text" id="new_name" name="new_name" required>
    <button type="submit" class="btn btn-primary">Edit Category</button>
</form>

<!-- List of products -->
<h6>Products in {{ category.name }}</h6>
<ul>
    {% for product in products %}
        <li>
            {{ product.product_name }}
            <a href="{{ url_for('edit_product', product_id=product.id) }}">Edit</a>
        </li>
    {% endfor %}
</ul>

<!-- Add Product Form -->
<form method="post" action="{{ url_for('add_product', category_id=category.id) }}">
    <label for="product_name">Product Name:</label>
    <input type="text" id="product_name" name="product_name" required>
    
    <!-- Other product details fields -->
    <label for="available_quantity">Available Quantity:</label>
    <input type="number" id="available_quantity" name="available_quantity" required>
    
    <label for="unit">Unit:</label>
    <select id="unit" name="unit" required>
        <option value="kg">kg</option>
        <option value="litre">litre</option>
        <option value="unit">unit</option>
    </select>
    <br>
    <label for="brand_name">Brand Name:</label>
    <input type="text" id="brand_name" name="brand_name" required>
    
    <label for="price">Price:</label>
    <input type="number" id="price" name="price" step="0.01" required>
    
    <input type="hidden" name="category_id" value="{{ category.id }}">
    
    <button type="submit" class="btn btn-success">Add Product</button>
</form>


<!-- Delete Category Form -->
<form method="post" action="{{ url_for('delete_category', category_id=category.id) }}">
    <button type="submit" class="btn btn-danger">Delete Category</button>
</form>
